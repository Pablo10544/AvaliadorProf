<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AvaliadorProf.MVVM.Views.AvaliacaoView"
             Margin="5,0,5,5" WidthRequest="300" HeightRequest="440">

    <VerticalStackLayout >
        <Grid ColumnDefinitions="0.7*,0.25*">
            <Label VerticalOptions="Start" HorizontalOptions="End" FontSize="30" Text="{Binding Card.Nome,StringFormat='Professor {0}'}"></Label>
            <Border Margin="5,8,-5,6" BackgroundColor="Blue" Grid.Column="1" StrokeShape="RoundRectangle 20">
                <Label VerticalTextAlignment="Center" Padding="0,0,0,5"   HorizontalTextAlignment="Center" TextColor="White" FontSize="14" Text="{Binding Card.MediaNotas,StringFormat='Nota: {0}'}"></Label>
            </Border>
        </Grid>
        <Border StrokeShape="RoundRectangle 20" BackgroundColor="LightGray" WidthRequest="110">
            <Grid ColumnDefinitions="0.7*,0.3*" HeightRequest="27">
                <Picker Title="Disciplina" Margin="0,0,0,-6" TitleColor="#ff000000" TextColor="Black" FontSize="12" HorizontalOptions="Center" >
                    <Picker.ItemsSource>
                        <x:Array Type="{x:Type x:String}">
                            <x:String>Baboon</x:String>
                            <x:String>Capuchin Monkey</x:String>
                            <x:String>Blue Monkey</x:String>
                            <x:String>Squirrel Monkey</x:String>
                            <x:String>Golden Lion Tamarin</x:String>
                            <x:String>Howler Monkey</x:String>
                            <x:String>Japanese Macaque</x:String>
                        </x:Array>
                    </Picker.ItemsSource>
                </Picker>
                <ImageButton Source="arrow_drop_down.png" Grid.Column="1" ></ImageButton>
            </Grid>
        </Border>
        <Grid ColumnDefinitions="0.5*,0.5*">
            <VerticalStackLayout Spacing="10" Margin="0,20,0,10">
                <Label>Didática:</Label>
                <Label>Dificuldade da Prova:</Label>
                <Label>Plano de Ensino:</Label>
            </VerticalStackLayout>
            <VerticalStackLayout Grid.Column="1" Spacing="-2">
                <HorizontalStackLayout Spacing="-8">
                    <Border Padding="-10" Stroke="Transparent">
                        <ImageButton Opacity="{Binding opacidadeEstrelaDidadica[0]}" WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                    <Border Padding="-10" Stroke="Transparent">
                        <ImageButton Opacity="{Binding opacidadeEstrelaDidadica[1]}"  WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                    <Border Padding="-10" Stroke="Transparent">

                        <ImageButton  Opacity="{Binding opacidadeEstrelaDidadica[2]}" WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                    <Border Padding="-10" Stroke="Transparent"
                            >
                        <ImageButton  Opacity="{Binding opacidadeEstrelaDidadica[3]}"  WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                    <Border Padding="-10" Stroke="Transparent">
                        <ImageButton  Opacity="{Binding opacidadeEstrelaDidadica[4]}" WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                </HorizontalStackLayout>
                <HorizontalStackLayout Spacing="-8">
                    <Border Padding="-10" Stroke="Transparent">

                        <ImageButton Opacity="{Binding opacidadeEstrelaDificuldadeProva[0]}" WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                    <Border Padding="-10" Stroke="Transparent">

                        <ImageButton Opacity="{Binding opacidadeEstrelaDificuldadeProva[1]}" WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                    <Border Padding="-10" Stroke="Transparent">

                        <ImageButton Opacity="{Binding opacidadeEstrelaDificuldadeProva[2]}" WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                    <Border Padding="-10" Stroke="Transparent">

                        <ImageButton Opacity="{Binding opacidadeEstrelaDificuldadeProva[3]}" WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                    <Border Padding="-10" Stroke="Transparent">

                        <ImageButton Opacity="{Binding opacidadeEstrelaDificuldadeProva[4]}" WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                </HorizontalStackLayout>
                <HorizontalStackLayout Spacing="-8">
                    <Border Padding="-10" Stroke="Transparent">
                        <ImageButton Opacity="{Binding opacidadeEstrelaNotaPlanoEnsino[0]}" WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                    <Border Padding="-10" Stroke="Transparent">
                        <ImageButton Opacity="{Binding opacidadeEstrelaNotaPlanoEnsino[1]}" WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                    <Border Padding="-10" Stroke="Transparent">
                        <ImageButton Opacity="{Binding opacidadeEstrelaNotaPlanoEnsino[2]}" WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                    <Border Padding="-10" Stroke="Transparent">
                        <ImageButton Opacity="{Binding opacidadeEstrelaNotaPlanoEnsino[3]}" WidthRequest="55" HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                    <Border Padding="-10" Stroke="Transparent">
                        <ImageButton  Opacity="{Binding opacidadeEstrelaNotaPlanoEnsino[4]}" WidthRequest="55"  HeightRequest="55" Source="star_with_border.png"/>
                    </Border>
                </HorizontalStackLayout>

            </VerticalStackLayout>
        </Grid>
        <Border BackgroundColor="#f34f4f" Margin="0,10,0,0" Stroke="Black" Padding="0,5,0,5" StrokeShape="RoundRectangle 5">

            <VerticalStackLayout>
                <Grid ColumnDefinitions="0.2*,0.2*,0.5*">

                    <VerticalStackLayout Spacing="1.5" Margin="60,0,0,0">

                        <Label Text="5" TextColor="White" />
                        <Label Text="4" TextColor="White"/>
                        <Label Text="3" TextColor="White"/>
                        <Label Text="2" TextColor="White"/>
                        <Label Text="1" TextColor="White"/>

                    </VerticalStackLayout>
                    <VerticalStackLayout Spacing="0" Grid.Column="1">
                        <HorizontalStackLayout Scale="0.9" Spacing="-15">
                            <Image Source="star.png" WidthRequest="20" HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                            <Image Source="star.png" WidthRequest="20" Opacity="0.9"  HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                            <Image Source="star.png" WidthRequest="20" Opacity="0.7" HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                            <Image Source="star.png" WidthRequest="20" Opacity="0.5" HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                            <Image Source="star.png" WidthRequest="20" Opacity="0.35" HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                        </HorizontalStackLayout>
                        <HorizontalStackLayout Scale="0.9" Spacing="-15">
                            <Image Source="star.png" WidthRequest="20" HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                            <Image Source="star.png" WidthRequest="20" Opacity="0.9"  HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                            <Image Source="star.png" WidthRequest="20" Opacity="0.7" HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                            <Image Source="star.png" WidthRequest="20" Opacity="0.5" HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                        </HorizontalStackLayout>
                        <HorizontalStackLayout Scale="0.9" Spacing="-15">
                            <Image Source="star.png" WidthRequest="20" HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                            <Image Source="star.png" WidthRequest="20" Opacity="0.9"  HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                            <Image Source="star.png" WidthRequest="20" Opacity="0.7" HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                        </HorizontalStackLayout>
                        <HorizontalStackLayout Scale="0.9" Spacing="-15">
                            <Image Source="star.png" WidthRequest="20" HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                            <Image Source="star.png" WidthRequest="20" Opacity="0.9"  HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                        </HorizontalStackLayout>
                        <HorizontalStackLayout Scale="0.9" Spacing="-15">
                            <Image Source="star.png" WidthRequest="20" HeightRequest="20" Scale="2" VerticalOptions="Start"></Image>
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                    <VerticalStackLayout Padding="-20,2,0,0" Margin="0,0,25,0" Grid.Column="2" Spacing="4">
                        <ProgressBar ScaleY="1.7" Progress="{Binding Progress5stars}" ProgressColor="#1f1e1e"   VerticalOptions="Start" ></ProgressBar>
                        <ProgressBar ScaleY="1.7"  Progress="{Binding Progress4stars}" ProgressColor="#1f1e1e"  VerticalOptions="Start"  ></ProgressBar>
                        <ProgressBar ScaleY="1.7"  Progress="{Binding Progress3stars}" ProgressColor="#1f1e1e"  VerticalOptions="Start"  ></ProgressBar>
                        <ProgressBar ScaleY="1.7"  Progress="{Binding Progress2stars}" ProgressColor="#1f1e1e"  VerticalOptions="Start" ></ProgressBar>
                        <ProgressBar ScaleY="1.7"  Progress="{Binding Progress1stars}" ProgressColor="#1f1e1e"  VerticalOptions="Start" ></ProgressBar>

                    </VerticalStackLayout>
                </Grid>
                <Label Margin="10,5,0,0" Text="Comentários:"></Label>
                <Border Margin="10,0,15,10" Stroke="Transparent" BackgroundColor="#333333" StrokeShape="RoundRectangle 15">
                    <Grid Padding="0,0,0,10" HeightRequest="110">

                        <ScrollView VerticalScrollBarVisibility="Always">
                            <CollectionView  ItemsSource="{Binding Card.Comentarios}" >
                                <CollectionView.ItemsLayout>
                                    <LinearItemsLayout Orientation="Vertical" ItemSpacing="4"/>
                                </CollectionView.ItemsLayout>
                                <CollectionView.ItemTemplate>
                                    <DataTemplate>
                                        <Grid  Margin="5,0,5,0">
                                            <BoxView
                        HeightRequest="40" 
                        CornerRadius="10" 
                        HorizontalOptions="Fill" />
                                            <Label 
                        Padding="10,0,0,0" 
                        Text="{Binding .}" 
                        TextColor="White"/>
                                        </Grid>
                                    </DataTemplate>
                                </CollectionView.ItemTemplate>
                            </CollectionView>
                        </ScrollView>
                    </Grid>
                </Border>
            </VerticalStackLayout>
        </Border>
    </VerticalStackLayout>

</ContentView>
